
css:
  a {
    color: white ;
  }
 #band {
  margin-left:    10px;
  margin-right:   10px;
  padding-left:   10px;
  padding-right:  10px;
 }
 #date {
   margin-left:    10px;
   margin-right:   10px;
   width:  120px;
 }

 #option {
   margin-left:    200px;
   margin-right:   10px;
 }


- require_relative 'prg_tbl.rb'
- pt = PrgTbl.new( @band, @day, @time )
- timeHref = pt.getTimeHref()
- d = pt.setFormPara()


.row
  .col
    == pt.dateSel()
  .col
    a.btn.waves-effect.waves-light.btn-small.green.darken-4 href="#{timeHref[0]}" 朝
  .col
    a.btn.waves-effect.waves-light.btn-small.green.darken-4 href="#{timeHref[1]}" 昼
  .col
    a.btn.waves-effect.waves-light.btn-small.green.darken-4 href="#{timeHref[2]}" 夜
  .col
    a.btn.waves-effect.waves-light.btn-small.green.darken-4 href="#{timeHref[3]}" 深夜
  .col
    a.btn.waves-effect.waves-light.btn-small.lime.darken-4 href="#{timeHref[4]}" -3H
  .col
    a.btn.waves-effect.waves-light.btn-small.lime.darken-4 href="#{timeHref[5]}" +3H
  .col
    == pt.bandSel()
  .col
    == pt.pageSel()

  .col
    a.btn.waves-effect.waves-light.btn-small.lime.darken-2#option オプション


.row
  div style="display:table;border-collapse: separate;border-spacing: 3px 0;"
    .dtr
      div.station  style="width:2.3em;"
        a href="/cate_color" style="color:white;" 色
      == pt.yokojiku()

    .dtr
      .dtc
        == pt.tatejiku()
      == pt.prgTable() 

== pt.nowLine()

== Commlib::include( SrcDir + "/views/prg_tbl.cssjs" )
== Commlib::includeIf( pt.tt, SrcDir + "/views/tooltip.js" )
== Commlib::include( SrcDir + "/views/move_top.html" )


<div id="option-dialog" style="display:none;" title="オプション">
   <p>
      
   </p>
</div>

javascript:

    $("#option").click(function(event){
        var proid = $(this).attr('pid');
        event.preventDefault();
        $("#option-dialog").load('/opt_dialog' );
        $("#option-dialog").dialog({
             modal: true,
             maxWidth: 1200,
             width:    1000,
             buttons: { //ボタン
               "保存": function() {
                 url = '/opt_dialog/save';
                 $.ajax({
                   url: url,
                   type:"POST",
                   data:  $('form').serialize() + '&param=1',
                   async: true,
                   timeout: 30000
                 }).done( function(results) {
                   location.reload();
                 }).fail(function (jqXHR, textStatus, errorThrown) {
                   console.log("ajax通信に失敗しました");
                   console.log("URL : " + url);
                   $("#sample-dialog1").html("<p>ajax通信に失敗しました");
                 })
               },
               "キャンセル": function() {
                   $(this).dialog("close");
               }
             },
             open: function() {
               $( this ).siblings('.ui-dialog-buttonpane').find('button:eq(1)').focus();
             }
           });
        return false;
    });

